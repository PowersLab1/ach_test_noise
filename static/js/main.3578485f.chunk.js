(this.webpackJsonpach_test_noise=this.webpackJsonpach_test_noise||[]).push([[0],{143:function(e,t,n){},150:function(e,t,n){e.exports=n.p+"static/media/rating_keydown_1.d9fbf22f.png"},151:function(e,t,n){e.exports=n.p+"static/media/rating_keydown_2.6a659dd4.png"},152:function(e,t,n){e.exports=n.p+"static/media/rating_keydown_3.d955b91a.png"},153:function(e,t,n){e.exports=n.p+"static/media/rating_keydown_4.c8b7c686.png"},154:function(e,t,n){e.exports=n.p+"static/media/rating_keydown_5.34958048.png"},156:function(e,t,n){e.exports=n(323)},161:function(e,t,n){},162:function(e,t,n){},163:function(e,t,n){},170:function(e,t){},172:function(e,t){},182:function(e,t){},184:function(e,t){},211:function(e,t){},213:function(e,t){},214:function(e,t){},219:function(e,t){},221:function(e,t){},227:function(e,t){},229:function(e,t){},248:function(e,t){},260:function(e,t){},263:function(e,t){},28:function(e){e.exports=JSON.parse('{"taskVersion":"1.0.0","taskName":"ach_test_noise","debug":false,"awsLambda":{"saveTaskData":{"host":"de8cnjde61.execute-api.us-east-2.amazonaws.com","path":"/default/saveTaskData"},"fetchLink":{"host":"3pnzb6n9vf.execute-api.us-east-2.amazonaws.com","path":"/default/fetchLink"}}}')},301:function(e,t,n){},302:function(e,t,n){},303:function(e,t,n){},304:function(e,t,n){},305:function(e,t,n){},306:function(e,t,n){},308:function(e,t,n){},309:function(e,t,n){},310:function(e,t,n){},311:function(e,t,n){},322:function(e,t,n){},323:function(e,t,n){"use strict";n.r(t),n.d(t,"history",(function(){return ze}));var a=n(0),r=n.n(a),l=n(148),i=n.n(l),o=(n(161),n(2)),c=n(3),s=n(5),u=n(4),m=(n(162),n(11)),d=n(29),h=n(53),b=n.n(h);n(163),n(13),n(164);function E(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(e){return!1}}var p=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var f=function(){var e={background:127.5,angle:Math.floor(135*Math.random())+45,imsize:256,initcontrast:.5,threshold:.2,phases:[0,.25],phase:0,alpha:.5,ppd:80,frequency:0};return e.phase=e.phases[Math.round(Math.random())],e.frequency=2/e.ppd,e}(),y=(function(e,t){e.map((function(e){return f.background+e*f.background*t}))}(function(e){for(var t=[],n=[],a=1;a<e.imsize+1;a++)for(var r=1;r<e.imsize+1;r++)t[4*(a-1+(r-1)*e.imsize)+0]=a-(e.imsize+1)/2,t[4*(a-1+(r-1)*e.imsize)+1]=a-(e.imsize+1)/2,t[4*(a-1+(r-1)*e.imsize)+2]=a-(e.imsize+1)/2,t[4*(a-1+(r-1)*e.imsize)+3]=a-(e.imsize+1)/2,n[4*(a-1+(r-1)*e.imsize)+0]=r-(e.imsize+1)/2,n[4*(a-1+(r-1)*e.imsize)+1]=r-(e.imsize+1)/2,n[4*(a-1+(r-1)*e.imsize)+2]=r-(e.imsize+1)/2,n[4*(a-1+(r-1)*e.imsize)+3]=r-(e.imsize+1)/2;for(var l=[],i=0;i<t.length&&i<n.length;i++)l[i]=.5*Math.cos(2*Math.PI*(e.frequency*(Math.sin(Math.PI/180*e.angle)*t[i]+Math.cos(Math.PI/180*e.angle)*n[i])+e.phase));return l}(f),0),{duration:300,amp:1,frequency:500});function v(e,t,n,a){!function(e,t,n,a){if(!a)return;var r=a.createOscillator(),l=a.createGain();r.connect(l),r.frequency.value=t,l.connect(a.destination),l.gain.value=T(e,6418e-7,56.3),r.start(a.currentTime),r.stop(a.currentTime+n/1e3)}(a,e.frequency,n||e.duration,t)}var g=80;function k(e){for(var t=3*e.sampleRate,n=e.createBuffer(2,t,e.sampleRate),a=(n.getChannelData(0),0);a<n.numberOfChannels;a++)for(var r=n.getChannelData(a),l=0;l<n.length;l++)r[l]=(2*Math.random()-1)*T(g,.015,78.3);var i=e.createBufferSource();i.buffer=n,i.loop=!0,i.connect(e.destination),i.start(0)}function T(e,t,n){return Math.pow(10,(e-n)/20)*t}var O=n(28),w=n(13),C=n(140),S=O.taskName,N=["updatePdf","warnPdf","normalizePdf","tGuess","tGuessSd","pThreshold","xThreshold","beta","delta","gamma","grain","dim","quantileOrder"];function R(){return Y.store.processedData}function x(e){return"component_"+e}function j(e,t,n,a,r,l,i,o){var c=Y.store,s=x(e);c[s]={},c[s].decibels=t,c[s].response=n,c[s].responseTime=a,w.isUndefined(r)||(c[s].ratings=r),w.isUndefined(l)||(c[s].ratingsRaw=l),c[s].timestamps=i,c[s].startTimestamp=o,Y.save()}function _(){return Y.store.encrypted_metadata}function I(){return Y.store.survey_url}function D(){return Y.store.dataSent}function L(e){Y.store.dataSent=e,Y.save()}function P(){if(w.isUndefined(_()))return!1;if(w.isUndefined(Y.store.quest))return!1;if(!O.debug)for(var e=1;e<=4;e++)if(w.isUndefined((t=e,Y.store[x(t)])))return!1;var t;return!0}var Y={get store(){if(w.isUndefined(this._store))if(E()){var e=JSON.parse(localStorage.getItem(S));this._store=e||{}}else this._store={};return this._store},save(){E()&&(localStorage.setItem(S,JSON.stringify(this.store)),O.debug&&console.log("saved: "+localStorage.getItem(S)))},clear(){O.debug&&console.log("cleared"),this._store=void 0,E()&&localStorage.removeItem(S)}};function U(){var e=_(),t=D();Y.clear(),Y.store.encrypted_metadata=e,Y.store.dataSent=t,Y.save()}var q=n(284),M=n(13),F=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).keyFunction=a.keyFunction.bind(Object(d.a)(a)),a.state={continue:!1,invalid:!1,dataSent:!1},a}return Object(c.a)(n,[{key:"keyFunction",value:function(e){81===e.keyCode&&this.setState((function(e,t){return{continue:!0}}))}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyFunction,!1);var e,t,n=q.parse(this.props.location.search,{ignoreQueryPrefix:!0});M.isUndefined(n.id)?M.isUndefined(_())&&this.setState({invalid:!0}):(e=n.id)!==Y.store.encrypted_metadata&&(Y.clear(),Y.store.encrypted_metadata=e,Y.save()),M.isUndefined(n.survey_url)||(t=n.survey_url,Y.store.survey_url=t,Y.save()),D()&&this.setState({dataSent:!0})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyFunction,!1)}},{key:"render",value:function(){return this.state.invalid?r.a.createElement(m.a,{to:"/Error"}):this.state.dataSent?r.a.createElement(m.a,{to:"/ThankYou"}):!0===this.state.continue?r.a.createElement(m.a,{to:"/VolumeCalibrationInstructions"}):r.a.createElement("div",{className:"Welcome"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"Welcome-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Welcome-text"},r.a.createElement("span",{className:"bigger"},"Please set your volume to 100% and then decrease it as needed so that the background noise is not uncomfortably loud but you can still hear the pure tone. Press 'q' on your keyboard to continue. "))),r.a.createElement("a",{href:"https://medicine.yale.edu/psychiatry/care/cmhc/",title:"Learn more about the Connecticut Mental Health Center",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:b.a,className:"Site-link",alt:"logo"}))))}}]),n}(a.Component),A=(n(301),function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).keyFunction=function(e){81===e.keyCode&&a.setState((function(e,t){return{continue:!0}}))},a.state={continue:!1},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyFunction,!1)}},{key:"render",value:function(){return!0===this.state.continue?r.a.createElement(m.a,{to:"/Trial_P"}):r.a.createElement("div",{className:"Instructions"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"Instructions-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Instructions-text"},"Once you hear the white noise, please adjust to find the maximum acceptable volume of the white noise (100% is ideal!)",r.a.createElement("br",null),r.a.createElement("br",null)," Make sure you record the final volume and do not change it",r.a.createElement("br",null),r.a.createElement("br",null),' As soon as you determine your volume, close this tab (or hit "back" if you didn\'t open this in a new tab)',r.a.createElement("br",null),r.a.createElement("br",null),'Press "Q to continue"'))))}}]),n}(a.Component)),H=(n(302),function(){return r.a.createElement("div",{className:"NotFound"},r.a.createElement("h3",null,"Sorry, page not found!"))}),W=(n(303),function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).keyFunction=function(e){81===e.keyCode&&a.setState((function(e,t){return{continue:!0}}))},a.state={continue:!1},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyFunction,!1)}},{key:"render",value:function(){return!0===this.state.continue?r.a.createElement(m.a,{to:"/Trial_TT_1"}):r.a.createElement("div",{className:"Complete"},r.a.createElement("header",{className:"Complete-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Complete-text"},"Congratulations!",r.a.createElement("br",null),r.a.createElement("br",null)," First part of the experiment is over.",r.a.createElement("br",null),r.a.createElement("br",null)," Now we will continue with the next trials. Now, there will be ratings similar to the second practice.",r.a.createElement("br",null),r.a.createElement("br",null)," You will see a rating screen following each presentation of stripes, press",r.a.createElement("br",null),r.a.createElement("br",null)," and then hold the ",r.a.createElement("b",null,' "Q"/YES ')," button or ",r.a.createElement("b",null,' "E"/NO ')," button.",r.a.createElement("br",null),r.a.createElement("br",null)," The longer you hold it down, the more certain you are of your choice.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold ",r.a.createElement("b",null,' "Q"/YES '),"  button down for a long time, you are very certain that you  ",r.a.createElement("b",null," DO ")," hear the tone.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold ",r.a.createElement("b",null,' "E"/NO '),"  button down for a long time, you are very certain that you ",r.a.createElement("b",null," DO NOT ")," hear the tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES WHEN READY TO CONTINUE.'))))}}]),n}(a.Component)),Q=(n(304),function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).keyFunction=function(e){81===e.keyCode&&a.setState((function(e,t){return{continue:!0}}))},a.state={continue:!1},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyFunction,!1)}},{key:"render",value:function(){return!0===this.state.continue?r.a.createElement(m.a,{to:"/Trial_P_rating"}):r.a.createElement("div",{className:"Continue"},r.a.createElement("header",{className:"Continue-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Continue-text"},"Great!",r.a.createElement("br",null),r.a.createElement("br",null)," First task complete! You will do the same thing in the next task, with some important differences:",r.a.createElement("br",null),r.a.createElement("br",null)," You will see a rating screen following each presentation of stripes, press",r.a.createElement("br",null),r.a.createElement("br",null)," and then hold the ",r.a.createElement("b",null,' "Q"/YES ')," button or ",r.a.createElement("b",null,' "E"/NO ')," button.",r.a.createElement("br",null),r.a.createElement("br",null)," The longer you hold it down, the more certain you are of your choice.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold ",r.a.createElement("b",null,' "Q"/YES '),"  button down for a long time, you are very certain that you  ",r.a.createElement("b",null," DO ")," hear the tone.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold ",r.a.createElement("b",null,' "E"/NO '),"  button down for a long time, you are very certain that you ",r.a.createElement("b",null," DO NOT ")," hear the tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES WHEN READY TO CONTINUE.'))))}}]),n}(a.Component)),z=(n(305),function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).keyFunction=function(e){81===e.keyCode&&a.setState((function(e,t){return{continue:!0}}))},a.state={continue:!1},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyFunction,!1)}},{key:"render",value:function(){return!0===this.state.continue?r.a.createElement(m.a,{to:"/TrialQ"}):r.a.createElement("div",{className:"Continue_rating"},r.a.createElement("header",{className:"Continue_rating-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Continue_rating-text"},"Great!",r.a.createElement("br",null),r.a.createElement("br",null)," You have completed the practice trials. Now onto the real test.",r.a.createElement("br",null),r.a.createElement("br",null),"  It is important to note that the tone in the practice session was there to make sure",r.a.createElement("br",null),r.a.createElement("br",null),"  you understood what to do, with very obvious and impossible-to-hear tones.",r.a.createElement("br",null),r.a.createElement("br",null),"  The tone in the remainder of the experiment",r.a.createElement("br",null),r.a.createElement("br",null),"  may be very difficult to hear so you will have to listen very hard.",r.a.createElement("br",null),r.a.createElement("br",null),"  Sometimes it might be difficult to answer, but if you do not know, please guess.",r.a.createElement("br",null),r.a.createElement("br",null),"  For this first task, you will not be asked to rate your confidence so just quickly press",r.a.createElement("br",null),r.a.createElement("br",null),"  and release the button as soon as the screen flashes with the stripes.",r.a.createElement("br",null),r.a.createElement("br",null)," Press  ",r.a.createElement("font",{size:"+2"},"  ",r.a.createElement("b",null,' "Q"/YES ')," ")," if you ",r.a.createElement("b",null," DO "),"hear the tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("font",{size:"+2"}," ",r.a.createElement("b",null,' "E"/NO ')," ")," if you ",r.a.createElement("b",null," DO NOT ")," hear the tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null)," There will be scheduled breaks throughout the experiment, but please do not take a break unless instructed.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES TO BEGIN THE EXPERIMENT.'))))}}]),n}(a.Component)),B=(n(306),function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).playNoise=function(){k(a.audioContext,a.state.volumeLevel)},a.decreaseVolume=function(){a.state.decreaseCount<5?a.setState((function(e){return{volumeLevel:e.volumeLevel-15,decreaseCount:e.decreaseCount+1}}),(function(){var e;console.log("Decreased volume to:",a.state.volumeLevel),e=a.state.volumeLevel,g=e,a.playNoise()})):console.log("Maximum decreases reached")},a.keyFunction=function(e){81===e.keyCode?a.setState({continue:!0}):69===e.keyCode&&a.decreaseVolume()},a.state={continue:!1,volumeLevel:80,decreaseCount:0},a.audioContext=new AudioContext,a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyFunction,!1),this.playNoise()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyFunction,!1)}},{key:"render",value:function(){return!0===this.state.continue?r.a.createElement(m.a,{to:"/Instructions"}):r.a.createElement("div",{className:"VolumeInstructions"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"VolumeInstructions-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"VolumeInstructions-text"},"This game plays a white noise in the background. Rarely, people find it unacceptablly loud initially.",r.a.createElement("br",null),r.a.createElement("br",null)," We will play the white noise for you. It should be loud but not too uncomfortable",r.a.createElement("br",null),r.a.createElement("br",null)," If the ",r.a.createElement("b",null,"noise is intolerable"),", press ",r.a.createElement("b",null,'"E"')," and we will decrease the volume and play it again.",r.a.createElement("br",null),r.a.createElement("br",null),' ONLY HIT "E" if you ',r.a.createElement("b",null,"absolutely must")," REMEMBER it ",r.a.createElement("b",null,"should be loud"),"!",r.a.createElement("br",null),r.a.createElement("br",null)," You can hit ",r.a.createElement("b",null,'"E"')," again if it is ",r.a.createElement("b",null,"still")," intolerably loud",r.a.createElement("br",null),r.a.createElement("br",null)," If the ",r.a.createElement("b",null," volume is OK")," you can press ",r.a.createElement("b",null,'"Q"')," and the game will continue!",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN ")))))}}]),n}(a.Component)),K=(n(143),n(150)),G=n.n(K),V=n(151),J=n.n(V),X=n(152),$=n.n(X),Z=n(153),ee=n.n(Z),te=n(154),ne=n.n(te),ae=(n(13),n(307),{0:"",1:G.a,2:J.a,3:$.a,4:ee.a,5:ne.a}),re=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(o.a)(this,n),t.call(this,e)}return Object(c.a)(n,[{key:"drawCanvas",value:function(){this.resizeCanvas();var e=document.getElementById("c"),t=e.getContext("2d"),n=t.getImageData(0,0,e.width,e.height),a=n.data,r=e.width,l=e.height,i=Math.max(100,e.height/8)/2,o=Math.floor(r/i),c=Math.floor(l/i),s=(r/i-o)/2*i;o%2==1&&(s+=i/2);for(var u=0;u<r;u++)for(var m=0;m<l;m++)if(this.props.showContrast){var d=163*Math.abs(Math.floor((u-s)/i)%2);a[4*(u+m*r)+0]=0,a[4*(u+m*r)+1]=0,a[4*(u+m*r)+2]=d,a[4*(u+m*r)+3]=255}else a[4*(u+m*r)+0]=0,a[4*(u+m*r)+1]=0,a[4*(u+m*r)+2]=0,a[4*(u+m*r)+3]=255;t.putImageData(n,0,0)}},{key:"resizeCanvas",value:function(){var e=document.getElementById("c");e.width=window.innerWidth,e.height=window.innerHeight}},{key:"componentDidMount",value:function(){this.drawCanvas()}},{key:"componentDidUpdate",value:function(e){this.drawCanvas()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("img",{src:ae[this.props.currentRating],width:256,height:256,className:"center",style:{zIndex:101,width:"95vh",height:"50vh",backgroundColor:"black",visibility:this.props.showRatings?"visible":"hidden"}}),r.a.createElement("div",{style:{zIndex:100,backgroundColor:"black",width:"100vw",height:"100vh",position:"fixed",top:0,left:0,visibility:this.props.showRatings?"visible":"hidden"}}),r.a.createElement("canvas",{id:"c",style:{position:"fixed",top:0,left:0,zIndex:1,width:"100%",height:"100%"}}),r.a.createElement("div",{className:"center cross-1",style:{zIndex:10}}),r.a.createElement("div",{className:"center cross-2",style:{zIndex:10}}))}}]),n}(a.Component);re.defaultProps={showContrast:!1,showRatings:!1,contrast:0};var le=re,ie=n(13),oe=n(28),ce=window.AudioContext||window.webkitAudioContext,se=(ie.map(ie.keys({49:1,50:2,51:3,52:4,53:5}),(function(e){return parseInt(e,10)})),function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).playStimulus=function(){var e=Object(d.a)(a);if(oe.debug&&e.log_debug(),e.state.index!=e.props.decibels.length)if(e.numAttempts++!=e.numAttemptsLimit){e.setState({responseWindow:!0}),e.startTime=(new Date).getTime(),e.playVisualStimulus(1e3);var t=e.props.decibels[e.state.index];v(y,e.audioContext,1e3,t),a.stimulusTimer=setTimeout(a.playStimulus,e.delay+e.jitter()),a.addTimestamp("stim")}else e.setState({complete:!0});else e.shutdown()},a.recordResponse=function(e){if(a.state.responseWindow&&ie.includes([81,69],e.keyCode)){var t=Object(d.a)(a);a.addTimestamp("resp");var n=(new Date).getTime(),r=81===e.keyCode?1:0;if(a.response.push(r),a.responseTime.push(n-a.startTime),a.setState({responseWindow:!1}),a.timebox=null,a.props.responseHandler(r),a.props.shouldRecordRatings){clearTimeout(a.stimulusTimer),a.setState({ratingWindow:!0,currentRating:t.numIterations||1,stopShowingRating:!1,stopIncrementingRating:!1}),t.numIterations=t.numIterations||0,a.ratingStartTime=(new Date).getTime(),function e(){t.numIterations++,t.ratingTimer=setTimeout((function(){if(5==t.numIterations||t.state.stopShowingRating)return t.numIterations=0,t.prevKey=null,void t.finishRatingWindow();t.state.stopIncrementingRating||t.setState({currentRating:t.state.currentRating+1}),e()}),250)}()}else a.prevKey=null,a.setState({index:a.state.index+1})}else a.prevKey=null},a.keyDownFunction=function(e){if(a.state.readyToStart)return a.setState({readyToStart:!1}),a.audioContext.resume(),void a.startTrial();if(ie.includes([81,69],e.keyCode)){if(a.isKeyDown[e.keyCode])return;a.isKeyDown[e.keyCode]=!0}null===a.prevKey&&(a.prevKey=e.keyCode),a.prevKey===e.keyCode&&(clearTimeout(a.timebox),a.timebox=setTimeout((function(){a.setState({stopIncrementingRating:!1}),a.recordResponse(e)}),50))},a.keyUpFunction=function(e){if(ie.includes([81,69],e.keyCode)&&(a.isKeyDown[e.keyCode]=!1),a.setState({stopIncrementingRating:!0}),a.state.ratingWindow)if(a.timebox)setTimeout((function(){a.timebox=null,a.prevKey=null}),250);else if((1==ie.last(a.response)?81:69)==e.keyCode){a.addTimestamp("rating");var t=(new Date).getTime();a.ratingsRaw.push(t-a.ratingStartTime)}},a.finishRatingWindow=function(){if(a.ratings.push(a.state.currentRating),a.ratings.length>a.ratingsRaw.length){a.addTimestamp("rating");var e=(new Date).getTime();a.ratingsRaw.push(e-a.ratingStartTime),a.setState({stopIncrementingRating:!0})}a.setState({index:a.state.index+1,ratingWindow:!1}),a.stimulusTimer=setTimeout(a.playStimulus,1e3+a.jitter())},a.state={index:0,showContrast:!1,responseWindow:!1,ratingWindow:!1,trialStarted:!1,complete:!1,invalid:!1,readyToStart:!1,dataSent:D(),currentRating:1,stopIncrementingRating:!1,stopShowingRating:!1},a.canvasRef=r.a.createRef(),a.audioContext=new ce,a.initialDelay=2e3,a.delay=2500,a.numAttempts=0,a.numAttemptsLimit=1e3,a.response=[],a.responseTime=[],a.ratings=[],a.ratingsRaw=[],a.timestamps=[],a.ratingTimer=void 0,a.stimulusTimer=void 0,a.componentStartTime=0,a.startTime=0,a.ratingStartTime=0,a.timebox=null,a.numIterations=0,a.isKeyDown={Q_KEY_CODE:!1,E_KEY_CODE:!1},a.prevKey=null,a}return Object(c.a)(n,[{key:"addTimestamp",value:function(e){"start"==e?(this.componentStartTime=(new Date).getTime(),this.timestamps.push([e,0])):this.timestamps.push([e,(new Date).getTime()-this.componentStartTime])}},{key:"playVisualStimulus",value:function(e){var t=this;this.setState({showContrast:!0}),setTimeout((function(){t.setState({showContrast:!1})}),e)}},{key:"startTrial",value:function(){this.setState({trialStarted:!0}),this.stimulusTimer=setTimeout(this.playStimulus,this.initialDelay),k(this.audioContext),this.addTimestamp("start")}},{key:"jitter",value:function(){return Math.random()/2*1e3}},{key:"shutdown",value:function(){this.addTimestamp("end"),this.saveDataToStore(),this.setState({complete:!0})}},{key:"saveDataToStore",value:function(){this.props.dataHandler(this.props.decibels,this.response,this.responseTime,this.ratings,this.ratingsRaw,this.timestamps)}},{key:"componentDidMount",value:function(){var e=this;document.addEventListener("keydown",this.keyDownFunction,!1),document.addEventListener("keyup",this.keyUpFunction,!1),ie.isUndefined(_())&&this.setState({invalid:!0}),!1===this.state.complete&&setTimeout((function(){e.setState({readyToStart:!0})}),0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyDownFunction,!1),document.removeEventListener("keyup",this.keyUpFunction,!1),this.audioContext.close()}},{key:"render",value:function(){return this.state.invalid?r.a.createElement(m.a,{to:"/Error"}):this.state.dataSent?r.a.createElement(m.a,{to:"/ThankYou"}):this.state.complete?this.props.trialCompleteRenderer(this.props.decibels,this.response):r.a.createElement("div",{className:"Trial "+(this.state.trialStarted?"Trial-gray":"")},this.state.trialStarted?r.a.createElement("div",{className:"Trial-stimulus"},r.a.createElement(le,{showContrast:this.state.showContrast,showRatings:this.state.ratingWindow,currentRating:this.state.currentRating})):r.a.createElement("p",{className:"Trial-text"},this.state.readyToStart?r.a.createElement("span",null,"Press any key to begin"):r.a.createElement("span",null,"Loading...")))}},{key:"log_debug",value:function(){console.log("================================"),console.log("all decibels: "+this.props.decibels),console.log("all responses: "+this.response),console.log("all responseTime: "+this.responseTime),console.log("all timestamps: "+JSON.stringify(this.timestamps)),console.log("all ratingsRaw: "+this.ratingsRaw),console.log("all ratings: "+this.ratings),console.log("index: "+this.state.index),console.log("numAttempts: "+this.numAttempts),console.log("store: "+JSON.stringify(Y.store)),console.log("localStorage: "+JSON.stringify(localStorage)),console.log("================================\n")}}]),n}(a.Component));se.defaultProps={decibels:oe.debug?ie.shuffle([65,65,65,65]):ie.concat([65],ie.shuffle([0,0,0,0,0,65,65,65,65])),shouldRecordRatings:!1,trialCompleteRenderer:ie.noop,responseHandler:ie.noop,dataHandler:ie.noop};var ue=se,me=(n(13),function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).trialCompleteRenderer=function(e,t){for(var n=0,a=0;a<t.length;a++)n+=t[a]==e[a]>0;return n>.7*e.length?r.a.createElement(m.a,{to:"/Continue"}):r.a.createElement(m.a,{to:"/OnceMore"})},a.dataHandler=function(e,t,n,r,l,i){j("practice",e,t,n,void 0,void 0,i,a.startTimestamp)},a.startTimestamp=(new Date).getTime(),a}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(ue,{shouldRecordRatings:!1,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}]),n}(a.Component)),de=n(155),he=(n(308),n(13)),be=n(28);function Ee(e,t,n){function a(a,r,l,i){return he.flatten([he.fill(Array(a),0),he.fill(Array(r),e),he.fill(Array(l),t),he.fill(Array(i),n)])}var r;return r=be.debug?[a(1,1,1,0),a(1,1,1,0),a(1,1,1,0),a(1,1,1,0),a(1,1,1,0),a(1,1,1,0),a(1,1,1,0),a(1,1,1,0),a(1,1,1,0),a(1,1,1,0),a(1,1,1,0),a(1,1,1,0)]:[he.concat(he.fill(Array(8),n),he.shuffle(a(1,0,1,5))),a(4,2,2,7),a(5,3,3,4),a(6,3,3,3),a(6,4,3,2),a(7,3,3,2),a(7,3,4,1),a(7,3,4,1),a(7,3,4,1),a(7,4,3,1),a(7,4,3,1),a(7,4,3,1)],he.map(r,(function(e,t){return 0==t?e:he.shuffle(e)}))}function pe(e,t,n){if(he.isUndefined(pe.blocks))if(3==arguments.length)pe.blocks=Ee(e,t,n);else{var a=R();if(!he.isUndefined(a)){var r=a.intensities.c25,l=a.intensities.c50,i=a.intensities.c75;pe.blocks=Ee(r,l,i)}}return pe.blocks}var fe=n(140),ye=n(28),ve=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;Object(o.a)(this,n),(a=t.call(this,e)).responseHandler=function(e){a.index>=a.maxIndex-1||(a.index%2===0?(a.q1.update(a.state.decibels[a.index],e),a.pushDecibel(a.q1.quantile())):(a.q2.update(a.state.decibels[a.index],e),a.pushDecibel(a.q2.quantile()))),a.index++},a.trialCompleteRenderer=function(){return r.a.createElement(m.a,{to:"/Complete"})},a.dataHandler=function(e,t,n,r,l,i){var o,c,s=e.filter((function(e,t){return t%2===0})),u=t.filter((function(e,t){return t%2===0})),m=n.filter((function(e,t){return t%2===0})),d=e.filter((function(e,t){return t%2===1})),h=t.filter((function(e,t){return t%2===1})),b=n.filter((function(e,t){return t%2===1}));!function(e,t,n,a,r,l,i,o,c,s){var u=Y.store;u.quest={},u.quest.q1={},u.quest.q2={},u.quest.q1.decibels=n,u.quest.q1.response=a,u.quest.q1.responseTime=r,u.quest.q1.params=w.pick(e.params,N),u.quest.q2.decibels=l,u.quest.q2.response=i,u.quest.q2.responseTime=o,u.quest.q2.params=w.pick(t.params,N),u.quest.timestamps=c,u.quest.startTimestamp=s,Y.save()}(a.q1,a.q2,s,u,m,d,h,b,i,a.startTimestamp),o=a.q1,c=a.q2,Y.store.processedData=C.ProcessQuestData(o,c),Y.save();var E=R();pe(E.intensities.c25,E.intensities.c50,E.intensities.c75)},a.startTimestamp=(new Date).getTime(),a.state={decibels:[]};var l=g-25,i=g-25;a.q1=new fe.Quest(l,5,.75,.1,.01,.01,.15,20),a.q2=new fe.Quest(i,5,.75,.1,.01,.01,.15,20);var c=ye.debug?2:40;return a.index=0,a.maxIndex=2*c-1,a.state={decibels:[l+3,i-3]},a}return Object(c.a)(n,[{key:"pushDecibel",value:function(e){this.setState({decibels:[].concat(Object(de.a)(this.state.decibels),[e])})}},{key:"render",value:function(){return r.a.createElement(ue,{decibels:this.state.decibels,shouldRecordRatings:!1,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler,responseHandler:this.responseHandler})}}]),n}(a.Component),ge=(n(13),function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).trialCompleteRenderer=function(e,t){for(var n=0,a=0;a<t.length;a++)n+=t[a]==e[a]>0;return n>.7*e.length?r.a.createElement(m.a,{to:"/Continue"}):r.a.createElement(m.a,{to:"/OnceMore"})},a.dataHandler=function(e,t,n,r,l,i){j("practice",e,t,n,void 0,void 0,i,a.startTimestamp)},a.startTimestamp=(new Date).getTime(),a}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(ue,{shouldRecordRatings:!1,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}]),n}(a.Component)),ke=(n(13),function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).trialCompleteRenderer=function(e,t){for(var n=0,a=0;a<t.length;a++)n+=t[a]==e[a]>0;return n>.7*e.length?r.a.createElement(m.a,{to:"/Continue_rating"}):r.a.createElement(m.a,{to:"/OnceMore_rating"})},a.dataHandler=function(e,t,n,r,l,i){j("practice_rating",e,t,n,r,l,i,a.startTimestamp)},a.startTimestamp=(new Date).getTime(),a}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(ue,{shouldRecordRatings:!0,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}]),n}(a.Component)),Te=(n(309),function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).keyFunction=function(e){81===e.keyCode&&a.setState((function(e,t){return{continue:!0}}))},a.state={continue:!1},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyFunction,!1)}},{key:"render",value:function(){return!0===this.state.continue?r.a.createElement(m.a,{to:"/Trial_P"}):r.a.createElement("div",{className:"OnceMore"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"OnceMore-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"OnceMore-text"},r.a.createElement("br",null),r.a.createElement("br",null)," Nice job, but you didn't reach the required accuracy level, so make sure you are pressing the right keys at the right time.",r.a.createElement("br",null),r.a.createElement("br",null)," You will now have one more practice session. Get ready! Remember,",r.a.createElement("br",null),r.a.createElement("br",null)," a tone might play while the white noise continues when there are stripes on the screen.",r.a.createElement("br",null),r.a.createElement("br",null)," Press  ",r.a.createElement("font",{size:"+2"},"  ",r.a.createElement("b",null,' "Q"/YES ')," ")," if you ",r.a.createElement("b",null," DO "),"hear the tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("font",{size:"+2"}," ",r.a.createElement("b",null,' "E"/NO ')," ")," if you ",r.a.createElement("b",null," DO NOT ")," hear the tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES TO BEGIN A SHORT PRACTICE SESSION'))))}}]),n}(a.Component)),Oe=(n(310),function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).keyFunction=function(e){81===e.keyCode&&a.setState((function(e,t){return{continue:!0}}))},a.state={continue:!1},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyFunction,!1)}},{key:"render",value:function(){return!0===this.state.continue?r.a.createElement(m.a,{to:"/Trial_P_rating"}):r.a.createElement("div",{className:"OnceMore_rating"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"OnceMore_rating-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"OnceMore_rating-text"},r.a.createElement("br",null),r.a.createElement("br",null)," Nice job, but you didn't reach the required accuracy level, so make sure you are pressing the right keys at the right time,",r.a.createElement("br",null),r.a.createElement("br",null)," and holding the button down to indicate accuracy ratings. You will now have one more practice session. Get ready!",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES WHEN READY TO CONTINUE.'))))}}]),n}(a.Component)),we=n(13),Ce=n(28),Se=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).trialCompleteRenderer=function(e,t){return Ce.debug,r.a.createElement(m.a,{to:"/Break1"})},a.dataHandler=function(e,t,n,r,l,i){j(1,e,t,n,r,l,i,a.startTimestamp)},a.startTimestamp=(new Date).getTime(),a.state={decibels:we.flatten(we.slice(pe(),0,3))},a}return Object(c.a)(n,[{key:"render",value:function(){return we.isEmpty(this.state.decibels)?r.a.createElement(m.a,{to:"/Error"}):r.a.createElement(ue,{decibels:this.state.decibels,shouldRecordRatings:!0,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}]),n}(a.Component),Ne=n(13),Re=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).trialCompleteRenderer=function(e,t){return r.a.createElement(m.a,{to:"/Break2"})},a.dataHandler=function(e,t,n,r,l,i){j(2,e,t,n,r,l,i,a.startTimestamp)},a.startTimestamp=(new Date).getTime(),a.state={decibels:Ne.flatten(Ne.slice(pe(),3,6))},a}return Object(c.a)(n,[{key:"render",value:function(){return Ne.isEmpty(this.state.decibels)?r.a.createElement(m.a,{to:"/Error"}):r.a.createElement(ue,{decibels:this.state.decibels,shouldRecordRatings:!0,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}]),n}(a.Component),xe=n(13),je=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).trialCompleteRenderer=function(e,t){return r.a.createElement(m.a,{to:"/Break3"})},a.dataHandler=function(e,t,n,r,l,i){j(3,e,t,n,r,l,i,a.startTimestamp)},a.startTimestamp=(new Date).getTime(),a.state={decibels:xe.flatten(xe.slice(pe(),6,9))},a}return Object(c.a)(n,[{key:"render",value:function(){return xe.isEmpty(this.state.decibels)?r.a.createElement(m.a,{to:"/Error"}):r.a.createElement(ue,{decibels:this.state.decibels,shouldRecordRatings:!0,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}]),n}(a.Component),_e=n(13),Ie=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).trialCompleteRenderer=function(e,t){return r.a.createElement(m.a,{to:"/ThankYou"})},a.dataHandler=function(e,t,n,r,l,i){j(4,e,t,n,r,l,i,a.startTimestamp)},a.startTimestamp=(new Date).getTime(),a.state={decibels:_e.flatten(_e.slice(pe(),9,12))},a}return Object(c.a)(n,[{key:"render",value:function(){return _e.isEmpty(this.state.decibels)?r.a.createElement(m.a,{to:"/Error"}):r.a.createElement(ue,{decibels:this.state.decibels,shouldRecordRatings:!0,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}]),n}(a.Component),De=(n(81),function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).keyFunction=function(e){81===e.keyCode&&a.setState((function(e,t){return{continue:!0}}))},a.state={continue:!1},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyFunction,!1)}},{key:"render",value:function(){return!0===this.state.continue?r.a.createElement(m.a,{to:"/Trial_TT_2"}):r.a.createElement("div",{className:"Break"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"Break-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Break-text"},"Great!",r.a.createElement("br",null),r.a.createElement("br",null)," Take a quick break. Three more to go!",r.a.createElement("br",null),r.a.createElement("br",null)," Remember: Continue to listen carefully and do the best you can.",r.a.createElement("br",null),r.a.createElement("br",null)," The task will continue to be difficult, but it is okay to guess and it is okay to be uncertain.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("b",null,' "Q"/YES ')," if you ",r.a.createElement("b",null," DO ")," hear a tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("b",null,' "E"/NO ')," if you ",r.a.createElement("b",null," DO NOT ")," hear a tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES TO CONTINUE WITH THE NEXT PART'))))}}]),n}(a.Component)),Le=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).keyFunction=function(e){81===e.keyCode&&a.setState((function(e,t){return{continue:!0}}))},a.state={continue:!1},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyFunction,!1)}},{key:"render",value:function(){return!0===this.state.continue?r.a.createElement(m.a,{to:"/Trial_TT_3"}):r.a.createElement("div",{className:"Break"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"Break-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Break-text"},"Great!",r.a.createElement("br",null),r.a.createElement("br",null)," Great!!! Take a quick break. Two more to go!",r.a.createElement("br",null),r.a.createElement("br",null)," Remember: Continue to listen carefully and do the best you can.",r.a.createElement("br",null),r.a.createElement("br",null)," The task will continue to be difficult, but it is okay to guess and it is okay to be uncertain.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("b",null,' "Q"/YES ')," if you ",r.a.createElement("b",null," DO ")," hear a tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("b",null,' "E"/NO ')," if you ",r.a.createElement("b",null," DO NOT ")," hear a tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES TO CONTINUE WITH THE NEXT PART'))))}}]),n}(a.Component),Pe=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).keyFunction=function(e){81===e.keyCode&&a.setState((function(e,t){return{continue:!0}}))},a.state={continue:!1},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyFunction,!1)}},{key:"render",value:function(){return!0===this.state.continue?r.a.createElement(m.a,{to:"/Trial_TT_4"}):r.a.createElement("div",{className:"Break"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"Break-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Break-text"},"Great!",r.a.createElement("br",null),r.a.createElement("br",null)," Take a quick break. One more to go!",r.a.createElement("br",null),r.a.createElement("br",null)," Remember: Continue to listen carefully and do the best you can.",r.a.createElement("br",null),r.a.createElement("br",null)," The task will continue to be difficult, but it is okay to guess and it is okay to be uncertain.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("b",null,' "Q"/YES ')," if you ",r.a.createElement("b",null," DO ")," hear a tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("b",null,' "E"/NO ')," if you ",r.a.createElement("b",null," DO NOT ")," hear a tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES TO CONTINUE WITH THE NEXT PART'))))}}]),n}(a.Component),Ye=(n(311),n(84)),Ue=n(28),qe=n(13),Me=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).keyFunction=function(e){81===e.keyCode&&a.setState((function(e,t){return{continue:!0}}))},a.state={continue:!1,invalid:!1,sentData:!1,link:void 0},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("keydown",this.keyFunction,!1);var t=_(),n=function(){var e=w.clone(Y.store);return e.taskName=O.taskName,e.taskVersion=O.taskVersion,e.visualStim=f,e.auditoryStim=y,JSON.stringify(e)}();if(p?this.setState({link:"link"}):qe.isUndefined(I())?Object(Ye.a)(t).then((function(t){return e.setState({link:t})})):this.setState({link:I()}),!D())return Ue.debug&&(console.log("encrypted metadata: "+t),console.log("store export: "+n),console.log("localStorage: "+JSON.stringify(localStorage))),P()?p?(L(!0),this.setState({sentData:!0}),void U()):void Object(Ye.b)(t,n).then((function(){L(!0),e.setState({sentData:!0}),U()})):(Y.clear(),void this.setState({invalid:!0}));this.setState({sentData:!0})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyFunction,!1)}},{key:"render",value:function(){if(this.state.invalid)return r.a.createElement(m.a,{to:"/Error"});if(this.state.continue)window.location.assign(this.state.link);else if(!this.state.sentData||qe.isUndefined(this.state.link))return r.a.createElement("div",{className:"ThankYou"},r.a.createElement("p",{className:"ThankYou-text"},"Loading..."));return r.a.createElement("div",{className:"ThankYou"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"ThankYou-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"ThankYou-text"},r.a.createElement("span",{className:"bigger"}," The experiment is over. Thank you for taking part in the study! "),r.a.createElement("br",null),r.a.createElement("br",null)," Please ",r.a.createElement("a",{href:this.state.link},"click here")," or press 'Q' to return to the survey.")),r.a.createElement("a",{href:"https://medicine.yale.edu/psychiatry/care/cmhc/",title:"Learn more about the Connecticut Mental Health Center",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:b.a,className:"Site-link",alt:"logo"}))))}}]),n}(a.Component),Fe=(n(322),function(){return r.a.createElement("div",{className:"Error"},r.a.createElement("h3",null,"Something went wrong. Please try again."))}),Ae=function(){return r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/",exact:!0,component:F}),r.a.createElement(m.b,{path:"/Welcome",exact:!0,component:F}),r.a.createElement(m.b,{path:"/VolumeCalibrationInstructions",exact:!0,component:B}),r.a.createElement(m.b,{path:"/TrialV",exact:!0,component:me}),r.a.createElement(m.b,{path:"/Instructions",exact:!0,component:A}),r.a.createElement(m.b,{path:"/Trial_P",exact:!0,component:ge}),r.a.createElement(m.b,{path:"/OnceMore",exact:!0,component:Te}),r.a.createElement(m.b,{path:"/Continue",exact:!0,component:Q}),r.a.createElement(m.b,{path:"/Trial_P_rating",exact:!0,component:ke}),r.a.createElement(m.b,{path:"/OnceMore_rating",exact:!0,component:Oe}),r.a.createElement(m.b,{path:"/Continue_rating",exact:!0,component:z}),r.a.createElement(m.b,{path:"/TrialQ",exact:!0,component:ve}),r.a.createElement(m.b,{path:"/Complete",exact:!0,component:W}),r.a.createElement(m.b,{path:"/Trial_TT_1",exact:!0,component:Se}),r.a.createElement(m.b,{path:"/Break1",exact:!0,component:De}),r.a.createElement(m.b,{path:"/Trial_TT_2",exact:!0,component:Re}),r.a.createElement(m.b,{path:"/Break2",exact:!0,component:Le}),r.a.createElement(m.b,{path:"/Trial_TT_3",exact:!0,component:je}),r.a.createElement(m.b,{path:"/Break3",exact:!0,component:Pe}),r.a.createElement(m.b,{path:"/Trial_TT_4",exact:!0,component:Ie}),r.a.createElement(m.b,{path:"/ThankYou",exact:!0,component:Me}),r.a.createElement(m.b,{path:"/Error",exact:!0,component:Fe}),r.a.createElement(m.b,{component:H}))},He=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Ae,null))}}]),n}(a.Component),We=n(8),Qe=n(15),ze=Object(Qe.a)();Object({NODE_ENV:"production",PUBLIC_URL:"/ach_test_noise",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).NODE_CONFIG_DIR="../config",i.a.render(r.a.createElement(We.a,{history:ze,basename:"/ach_test_noise"},r.a.createElement(He,null)),document.getElementById("root"))},53:function(e,t,n){e.exports=n.p+"static/media/psych_logo.6956dbda.jpg"},81:function(e,t,n){},84:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var a=n(312),r=n(147),l=n(28);function i(t,n){return new Promise((function(i,o){var c=r.stringify({encrypted_metadata:t,data:n}),s={hostname:l.awsLambda.saveTaskData.host,port:443,path:l.awsLambda.saveTaskData.path,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","Content-Length":e.byteLength(c)}},u=a.request(s,(function(e){e.setEncoding("utf8"),e.on("data",(function(){})),e.on("end",i)}));u.on("error",(function(e){l.debug&&(console.log("ERROR:"),console.log(e)),o(e)})),u.write(c),u.end()}))}function o(t){return new Promise((function(n,i){var o=r.stringify({encrypted_metadata:t}),c={hostname:l.awsLambda.fetchLink.host,port:443,path:l.awsLambda.fetchLink.path,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","Content-Length":e.byteLength(o)}},s=a.request(c,(function(e){e.setEncoding("utf8");var t="";e.on("data",(function(e){t+=e})),e.on("end",(function(){return n(t)}))}));s.on("error",(function(e){l.debug&&(console.log("ERROR:"),console.log(e)),i(e)})),s.write(o),s.end()}))}}).call(this,n(7).Buffer)}},[[156,1,2]]]);
//# sourceMappingURL=main.3578485f.chunk.js.map